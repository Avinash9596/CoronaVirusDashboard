{"ast":null,"code":"import _defineProperty from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{InputText}from'primereact/inputtext';var tableData=/*#__PURE__*/function(_React$Component){_inherits(tableData,_React$Component);var _super=_createSuper(tableData);function tableData(props){var _this;_classCallCheck(this,tableData);_this=_super.call(this);_this.getDistrictData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var obj,fetcher,response,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(_this.props.presentRegion===\"World\")){_context.next=3;break;}return _context.abrupt(\"return\");case 3://for in case of India \nobj=[];_context.next=6;return fetch(\"https://api.covid19india.org/state_district_wise.json\");case 6:fetcher=_context.sent;_context.next=9;return fetcher.json();case 9:response=_context.sent;Object.keys(response[data].districtData).forEach(function(x){obj.push({name:x,active:response[data].districtData[x].active,deaths:response[data].districtData[x].deceased,recovered:response[data].districtData[x].recovered,cases:response[data].districtData[x].confirmed});});_context.next=13;return _this.setState({districtData:obj,flag:true,tempdistrictObj:obj,presentState:data+\" - District Wise Status\"});case 13:// scroll to the specified district table\nelement=document.querySelector(\"#district\");element.scrollIntoView();_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.getFilteredData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,searchIn){var obj;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:obj=[];_context2.prev=1;if(!(searchIn!=='district')){_context2.next=9;break;}_this.state.tempObj.forEach(function(x){if(x.name.toLowerCase().includes(name.toLowerCase()))obj.push(x);});_context2.next=6;return _this.setState({data:obj});case 6:return _context2.abrupt(\"return\");case 9:_this.state.tempdistrictObj.forEach(function(x){if(x.name.toLowerCase().includes(name.toLowerCase()))obj.push(x);});_context2.next=12;return _this.setState({districtData:obj});case 12:_context2.next=17;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[1,14]]);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();_this.render=function(){var districtTable;var header=/*#__PURE__*/React.createElement(\"div\",{className:\"headerdiv\"},/*#__PURE__*/React.createElement(\"span\",{className:\"headertext\"},_this.state.name,\" Wise Status\"),/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"col-sm-12 col-xl-3\"},\"className\",\"p-datatable-globalfilter-container\"),/*#__PURE__*/React.createElement(InputText,{width:\"300px\",type:\"search\",onChange:function onChange(e){return _this.getFilteredData(e.target.value,\"\");},placeholder:\"Search By Place Name\"})));var districttableheader=/*#__PURE__*/React.createElement(\"div\",{className:\"headerdiv\"},/*#__PURE__*/React.createElement(\"span\",{className:\"headertext\"},_this.state.presentState),/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"col-sm-12 col-xl-3\"},\"className\",\"p-datatable-globalfilter-container\"),/*#__PURE__*/React.createElement(InputText,{width:\"300px\",type:\"search\",onChange:function onChange(e){return _this.getFilteredData(e.target.value,\"district\");},placeholder:\"Search By Place Name\"})));if(_this.props.presentRegion==='India'&&_this.state.flag){districtTable=/*#__PURE__*/React.createElement(\"div\",{className:\"datatable\"},/*#__PURE__*/React.createElement(DataTable,{title:\"Click to get More Information\",id:\"district\",className:\"p-datatable-places\",emptyMessage:\"No records found\",responsive:true,style:{border:'none'},header:districttableheader,value:_this.state.districtData,paginator:true,rows:10},/*#__PURE__*/React.createElement(Column,{field:\"name\",body:_this.dateTemplate=function(rowData){return/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this.getDistrictData(rowData.name);}},rowData.name);},header:\"District\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"cases\",header:\"Confirmed\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"active\",header:\"Active\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"recovered\",header:\"Recovered\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"deaths\",header:\"Deaths\",sortable:true})));}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 datatable\"},/*#__PURE__*/React.createElement(DataTable,{onRowClick:function onRowClick(event){return _this.getDistrictData(event.data.name);},className:\"p-datatable-places\",rowHover:true,emptyMessage:\"No records found\",header:header,value:_this.state.data,responsive:true,paginator:true,rows:10},/*#__PURE__*/React.createElement(Column,{field:\"name\",header:_this.state.name,sortable:true,body:function body(rowData){return/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"550\"}},rowData.name);}}),/*#__PURE__*/React.createElement(Column,{field:\"cases\",body:function body(rowData){var changes;if(rowData.changeinConfirmed!=0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#ef3c3c\"}},rowData.changeinConfirmed);return/*#__PURE__*/React.createElement(\"span\",null,rowData.cases,\" \\xA0\\xA0\\xA0\",changes);},header:\"Confirmed\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"active\",header:\"Active\",body:function body(rowData){var changes;if(rowData.changeinActive!=0){if(rowData.changeinActive>0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#ef3c3c\"}},rowData.changeinActive);else changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-down\",style:{fontWeight:'500',color:\"#009933\"}},-rowData.changeinActive);}return/*#__PURE__*/React.createElement(\"span\",null,rowData.active,\"\\xA0\\xA0\\xA0\",changes);},sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"recovered\",header:\"Recovered\",body:function body(rowData){var changes;if(rowData.changeinRecovered!=0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#009933\"}},rowData.changeinRecovered);return/*#__PURE__*/React.createElement(\"span\",null,rowData.recovered,\"\\xA0\\xA0\\xA0\",changes);},sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"deaths\",body:function body(rowData){var changes;if(rowData.changeinDeaths!=0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#ef3c3c\"}},rowData.changeinDeaths);return/*#__PURE__*/React.createElement(\"span\",null,rowData.deaths,\"\\xA0\\xA0\\xA0\",changes);},header:\"Deaths\",sortable:true})),/*#__PURE__*/React.createElement(\"br\",null),districtTable);};_this.state={data:[],districtData:[],name:props.presentRegion==\"World\"?\"Country\":\"State\"};return _this;}_createClass(tableData,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _this2=this;var obj,confirmed,deaths,recovered;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:obj=[];_context3.prev=1;//filter and structure data\nthis.props.data.countries.forEach(function(element){confirmed=_this2.props.data.data[element].confirmed;deaths=_this2.props.data.data[element].deaths;recovered=_this2.props.data.data[element].recovered;obj.push({\"name\":element,\"cases\":confirmed[confirmed.length-1][1],\"deaths\":deaths[deaths.length-1][1],\"recovered\":recovered[recovered.length-1][1],\"changeinConfirmed\":confirmed[confirmed.length-1][1]-confirmed[confirmed.length-2][1],\"changeinRecovered\":recovered[recovered.length-1][1]-recovered[recovered.length-2][1],\"changeinDeaths\":deaths[deaths.length-1][1]-deaths[deaths.length-2][1],\"changeinActive\":confirmed[confirmed.length-1][1]-confirmed[confirmed.length-2][1]-(recovered[recovered.length-1][1]-recovered[recovered.length-2][1])-(deaths[deaths.length-1][1]-deaths[deaths.length-2][1]),\"active\":confirmed[confirmed.length-1][1]-deaths[deaths.length-1][1]-recovered[recovered.length-1][1]});});_context3.next=5;return this.setState({data:obj,tempObj:obj});case 5:_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](1);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,this,[[1,7]]);}));function getData(){return _getData.apply(this,arguments);}return getData;}()}]);return tableData;}(React.Component);export default tableData;","map":{"version":3,"sources":["/Users/matchajanardhanarao/Documents/coronodashboard/src/components/tableData.js"],"names":["React","DataTable","Column","InputText","tableData","props","getDistrictData","data","presentRegion","obj","fetch","fetcher","json","response","Object","keys","districtData","forEach","x","push","name","active","deaths","deceased","recovered","cases","confirmed","setState","flag","tempdistrictObj","presentState","element","document","querySelector","scrollIntoView","console","log","getFilteredData","searchIn","state","tempObj","toLowerCase","includes","render","districtTable","header","e","target","value","districttableheader","border","dateTemplate","rowData","event","fontWeight","changes","changeinConfirmed","color","changeinActive","changeinRecovered","changeinDeaths","getData","countries","length","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport {DataTable} from 'primereact/datatable';\r\nimport {Column} from 'primereact/column';\r\nimport {InputText} from 'primereact/inputtext';\r\n\r\n\r\n\r\nclass tableData extends React.Component\r\n{\r\n\r\n    constructor(props)\r\n    {\r\n        super();\r\n        this.state={data:[],districtData:[],name:props.presentRegion == \"World\" ? \"Country\" :\"State\"};\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        this.getData();\r\n    }\r\n\r\n    async getData(){\r\n        \r\n      let obj = [],confirmed,deaths,recovered;\r\n\r\n      try{\r\n        //filter and structure data\r\n        this.props.data.countries.forEach(element => {\r\n    \r\n         confirmed = this.props.data.data[element].confirmed;\r\n         deaths = this.props.data.data[element].deaths;\r\n         recovered = this.props.data.data[element].recovered;\r\n\r\n        obj.push({\"name\":element,\r\n        \"cases\":confirmed[confirmed.length-1][1],\r\n        \"deaths\":deaths[deaths.length-1][1],\r\n        \"recovered\":recovered[recovered.length-1][1],\r\n        \"changeinConfirmed\":confirmed[confirmed.length-1][1]-confirmed[confirmed.length-2][1],\r\n        \"changeinRecovered\" : recovered[recovered.length-1][1]-recovered[recovered.length-2][1],\r\n        \"changeinDeaths\":deaths[deaths.length-1][1]-deaths[deaths.length-2][1],\r\n        \"changeinActive\":((confirmed[confirmed.length-1][1]-confirmed[confirmed.length-2][1]) - (recovered[recovered.length-1][1]-recovered[recovered.length-2][1]) - (deaths[deaths.length-1][1]-deaths[deaths.length-2][1])),\r\n        \"active\":confirmed[confirmed.length-1][1]-deaths[deaths.length-1][1]-recovered[recovered.length-1][1]})  \r\n\r\n        });    \r\n\r\n        await this.setState({data:obj,tempObj:obj});\r\n      }\r\n      catch(err){\r\n          console.log(err)\r\n      }\r\n    }\r\n\r\n    getDistrictData = async(data) =>{\r\n       try{\r\n        if(this.props.presentRegion === \"World\") return;    \r\n        //for in case of India \r\n        let obj =[];\r\n        const fetcher= await fetch(\"https://api.covid19india.org/state_district_wise.json\")\r\n        const response =await fetcher.json()\r\n        Object.keys(response[data].districtData).forEach(x=>{    \r\n        obj.push({name:x,active:response[data].districtData[x].active,deaths:response[data].districtData[x].deceased,recovered:response[data].districtData[x].recovered,cases:response[data].districtData[x].confirmed})    \r\n        })\r\n\r\n        await this.setState({districtData:obj,flag:true,tempdistrictObj:obj,presentState:data+\" - District Wise Status\"})\r\n\r\n        // scroll to the specified district table\r\n        var element = document.querySelector(\"#district\");\r\n        element.scrollIntoView();\r\n      }\r\n      catch(err){\r\n          console.log(err);\r\n      }\r\n    }\r\n\r\n    //GLOBAL SEARCH FUNCTIONALITY\r\n    getFilteredData=async(name,searchIn)=>{\r\n            let obj =[];\r\n            try{\r\n            if(searchIn !== 'district'){\r\n                this.state.tempObj.forEach(x=>{\r\n                    if(x.name.toLowerCase().includes(name.toLowerCase())) obj.push(x)\r\n                })\r\n                await this.setState({data:obj})\r\n                return;\r\n            }\r\n            else{\r\n                this.state.tempdistrictObj.forEach(x=>{\r\n                    if(x.name.toLowerCase().includes(name.toLowerCase())) obj.push(x)\r\n                })\r\n                await this.setState({districtData:obj})\r\n            }\r\n            }\r\n            catch(err){console.log(err)}\r\n    }\r\n\r\n    render = () =>{\r\n        let districtTable;\r\n            \r\n        const header = <div className=\"headerdiv\">\r\n         <span className=\"headertext\">{this.state.name} Wise Status</span>\r\n         <div  className=\"col-sm-12 col-xl-3\" className=\"p-datatable-globalfilter-container\">\r\n            <InputText width=\"300px\" type=\"search\" onChange={(e)=>this.getFilteredData(e.target.value,\"\")} placeholder=\"Search By Place Name\" />\r\n         </div>\r\n        </div>\r\n\r\n        const districttableheader = <div className=\"headerdiv\">\r\n        <span className=\"headertext\">{this.state.presentState}</span>\r\n        <div  className=\"col-sm-12 col-xl-3\" className=\"p-datatable-globalfilter-container\">\r\n            <InputText width=\"300px\" type=\"search\" onChange={(e)=>this.getFilteredData(e.target.value,\"district\")} placeholder=\"Search By Place Name\" />\r\n        </div>\r\n        </div>\r\n        \r\n        \r\n        if(this.props.presentRegion === 'India' && this.state.flag){\r\n         districtTable = \r\n         <div className=\"datatable\">\r\n         <DataTable title=\"Click to get More Information\" id=\"district\" className=\"p-datatable-places\" emptyMessage=\"No records found\" responsive={true} style={{border:'none'}} header={districttableheader} value={this.state.districtData}  paginator={true} rows={10}>\r\n         <Column field=\"name\"  body={this.dateTemplate=(rowData)=>{return <a onClick={() => this.getDistrictData(rowData.name)}>{rowData.name}</a>}} header=\"District\" sortable={true} />\r\n         <Column field=\"cases\"  header=\"Confirmed\" sortable={true}  />\r\n         <Column field=\"active\" header=\"Active\" sortable={true}  />\r\n         <Column field=\"recovered\" header=\"Recovered\" sortable={true} />\r\n         <Column field=\"deaths\" header=\"Deaths\" sortable={true}/>\r\n         </DataTable>\r\n         </div>\r\n        }\r\n        \r\n        return(\r\n            <div className=\"col-sm-12 datatable\">\r\n              <DataTable onRowClick ={(event)=>this.getDistrictData(event.data.name)} className=\"p-datatable-places\" rowHover emptyMessage=\"No records found\" header={header} value={this.state.data} responsive={true} paginator={true} rows={10}>\r\n                 <Column field=\"name\"   header={this.state.name} sortable={true} body={(rowData)=>{ return <span style={{fontWeight:\"550\"}}>{rowData.name}</span>}} />     \r\n                 <Column field=\"cases\" body={(rowData)=>{\r\n                      let changes;\r\n                      if(rowData.changeinConfirmed !=0) changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#ef3c3c\"}}>{rowData.changeinConfirmed}</span>\r\n                      return <span>{rowData.cases} &nbsp;&nbsp;&nbsp;{changes}</span>}} header=\"Confirmed\" sortable={true}  />\r\n                 <Column field=\"active\" header=\"Active\" body ={(rowData) => {\r\n                     let changes;\r\n                     if(rowData.changeinActive != 0) {\r\n                         if(rowData.changeinActive >0)\r\n                           changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#ef3c3c\"}}>{rowData.changeinActive}</span> \r\n                         else\r\n                           changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-down\" style={{fontWeight:'500',color:\"#009933\"}}>{-rowData.changeinActive}</span>\r\n                     }\r\n                     return <span>{rowData.active}&nbsp;&nbsp;&nbsp;{changes}</span>}} sortable={true}  />\r\n                 <Column field=\"recovered\" header=\"Recovered\"  body ={(rowData)=>{\r\n                     let changes;\r\n                     if(rowData.changeinRecovered != 0) changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#009933\"}}>{rowData.changeinRecovered}</span> \r\n                     return <span>{rowData.recovered}&nbsp;&nbsp;&nbsp;{changes}</span>}} sortable={true}  />\r\n                 <Column field=\"deaths\" body ={(rowData)=>{\r\n                     let changes;\r\n                     if(rowData.changeinDeaths != 0)  changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#ef3c3c\"}}>{rowData.changeinDeaths}</span>\r\n                 return <span>{rowData.deaths}&nbsp;&nbsp;&nbsp;{changes}</span>}} header=\"Deaths\" sortable={true}  />\r\n              </DataTable>\r\n              <br></br>\r\n              {districtTable}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default tableData;"]},"metadata":{},"sourceType":"module"}