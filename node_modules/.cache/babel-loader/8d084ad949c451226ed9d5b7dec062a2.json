{"ast":null,"code":"var _jsxFileName = \"/Users/matchajanardhanarao/Documents/coronodashboard/src/components/ColumnGraph.js\";\nimport React from 'react';\nimport Highcharts from 'highcharts/highcharts';\nimport drilldown from 'highcharts/modules/drilldown.js';\nimport HighchartsReact from 'highcharts-react-official';\ndrilldown(Highcharts);\n\nclass ColumnGraph extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      options: {}\n    };\n  }\n\n  componentDidMount() {\n    this.structureData();\n  }\n\n  structureData() {\n    let data = this.props.data.total.confirmed;\n    let i = 0,\n        DaysInMonths = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n    let nameOfMonths = {\n      0: \"Jan\",\n      1: \"Feb\",\n      2: \"March\",\n      3: \"Apr\",\n      4: \"May\",\n      5: \"Jun\",\n      6: \"Jul\",\n      7: \"Aug\",\n      8: \"Sept\",\n      9: \"Oct\",\n      10: \"Nov\",\n      11: \"Dec\"\n    };\n    let obj = [],\n        month = 0,\n        prevdata = 0,\n        ddrObject = [],\n        daysdata = [],\n        daysPrevData = 0;\n    data.forEach((element, index) => {\n      month = new Date(element[0]).toISOString().split(\"-\")[1];\n      daysPrevData = 0;\n      if (index > 0) daysPrevData += data[index - 1][1];\n      daysdata.push([new Date(element[0]).toISOString().split(\"-\")[2].split(\"T\")[0], element[1] - daysPrevData]);\n\n      if (new Date(element[0]).toISOString().split(\"-\")[2].split(\"T\")[0] == DaysInMonths[month - 1]) {\n        ddrObject.push({\n          name: nameOfMonths[month - 1],\n          \"id\": i.toString(),\n          \"data\": daysdata\n        });\n        daysdata = [];\n        if (i > 0) prevdata += obj[i - 1].y;\n        obj[i] = {\n          name: nameOfMonths[month - 1],\n          \"y\": element[1] - prevdata,\n          drilldown: i.toString()\n        };\n        i++;\n      } else if (index == data.length - 1) {\n        prevdata += obj[i - 1].y;\n        ddrObject.push({\n          name: nameOfMonths[month - 1],\n          \"id\": i.toString(),\n          \"data\": daysdata\n        });\n        daysdata = [];\n        obj[i] = {\n          name: nameOfMonths[month - 1],\n          \"y\": element[1] - prevdata,\n          drilldown: i.toString()\n        };\n      }\n    });\n    this.setState({\n      options: {\n        chart: {\n          type: 'column',\n          height: 320\n        },\n        title: {\n          text: this.props.presentRegion + ' Coronovirus Cases , 2020'\n        },\n        subtitle: {\n          text: 'Monthly/Daily Cases'\n        },\n        xAxis: {\n          type: 'category'\n        },\n        yAxis: {\n          title: {\n            text: 'Cases'\n          }\n        },\n        legend: {\n          enabled: false\n        },\n        credits: {\n          enabled: false\n        },\n        plotOptions: {\n          series: {\n            borderWidth: 0,\n            dataLabels: {\n              enabled: true,\n              format: '{point.y}'\n            }\n          }\n        },\n        accessibility: {\n          announceNewData: {\n            enabled: true\n          }\n        },\n        tooltip: {\n          enabled: true,\n          formatter: function () {\n            return this.series.name + \" \" + this.point.name + \"<br/> Cases:<b>\" + this.point.y + \"</b>\";\n          },\n          useHTML: true\n        },\n        series: [{\n          name: \"Month\",\n          data: obj\n        }],\n        drilldown: {\n          name: \"Dates\",\n          series: ddrObject\n        }\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(HighchartsReact, {\n      highcharts: Highcharts,\n      options: this.state.options,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    })));\n  }\n\n}\n\nexport default ColumnGraph;","map":{"version":3,"sources":["/Users/matchajanardhanarao/Documents/coronodashboard/src/components/ColumnGraph.js"],"names":["React","Highcharts","drilldown","HighchartsReact","ColumnGraph","Component","constructor","props","state","options","componentDidMount","structureData","data","total","confirmed","i","DaysInMonths","nameOfMonths","obj","month","prevdata","ddrObject","daysdata","daysPrevData","forEach","element","index","Date","toISOString","split","push","name","toString","y","length","setState","chart","type","height","title","text","presentRegion","subtitle","xAxis","yAxis","legend","enabled","credits","plotOptions","series","borderWidth","dataLabels","format","accessibility","announceNewData","tooltip","formatter","point","useHTML","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Highcharts from 'highcharts/highcharts';\r\nimport drilldown from 'highcharts/modules/drilldown.js'\r\nimport HighchartsReact from 'highcharts-react-official';\r\n\r\ndrilldown(Highcharts);\r\n\r\nclass ColumnGraph extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super();\r\n        this.state={\r\n        options: {\r\n        }\r\n       }\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        this.structureData();\r\n    }\r\n\r\n    structureData()\r\n    { \r\n        let data =this.props.data.total.confirmed;\r\n\r\n        let i=0,DaysInMonths =[31,29,31,30,31,30,31,31,30,31,30,31];\r\n        let nameOfMonths = {0:\"Jan\",1:\"Feb\",2:\"March\",3:\"Apr\",4:\"May\",5:\"Jun\",6:\"Jul\",7:\"Aug\",8:\"Sept\",9:\"Oct\",10:\"Nov\",11:\"Dec\"}\r\n\r\n        let obj =[],month=0,prevdata=0,ddrObject=[],daysdata=[],daysPrevData=0;\r\n\r\n\r\n        data.forEach((element,index) => {\r\n            month = new Date(element[0]).toISOString().split(\"-\")[1];\r\n            daysPrevData = 0;\r\n\r\n            if(index>0)\r\n                daysPrevData+=data[index-1][1];\r\n        \r\n            daysdata.push([new Date(element[0]).toISOString().split(\"-\")[2].split(\"T\")[0],element[1]-daysPrevData]);\r\n\r\n            if(new Date(element[0]).toISOString().split(\"-\")[2].split(\"T\")[0] == DaysInMonths[month-1]){\r\n\r\n                ddrObject.push({name:nameOfMonths[month-1],\"id\":i.toString(),\"data\":daysdata});\r\n                daysdata=[];\r\n                if(i>0) prevdata+=obj[i-1].y;\r\n\r\n                obj[i]={name:nameOfMonths[month-1],\"y\":element[1]-prevdata,drilldown:i.toString()};\r\n\r\n                i++;\r\n            }\r\n            else if(index == data.length-1){\r\n                prevdata+=obj[i-1].y;\r\n                ddrObject.push({name:nameOfMonths[month-1],\"id\":i.toString(),\"data\":daysdata});\r\n                daysdata=[];\r\n                obj[i] = {name:nameOfMonths[month-1],\"y\":element[1]-prevdata,drilldown:i.toString()};\r\n            }      \r\n        });\r\n\r\n        this.setState({\r\n            options: {\r\n                chart: {\r\n                    type: 'column',\r\n                    height:320\r\n                },\r\n                title: {\r\n                    text: this.props.presentRegion+' Coronovirus Cases , 2020'\r\n                },\r\n                subtitle: {\r\n                    text: 'Monthly/Daily Cases'\r\n                },\r\n                \r\n                xAxis: {\r\n                    type: 'category',\r\n                },\r\n                yAxis: {\r\n                    title: {\r\n                        text: 'Cases'\r\n                    }\r\n                },\r\n                legend: {\r\n                    enabled: false\r\n                },\r\n                credits:{\r\n                    enabled:false\r\n                },\r\n                plotOptions: {\r\n                    series: {\r\n                        borderWidth: 0,\r\n                        dataLabels: {\r\n                            enabled: true,\r\n                            format: '{point.y}'\r\n                        }\r\n                    }\r\n                },\r\n                accessibility: {\r\n                    announceNewData: {\r\n                        enabled: true\r\n                    }\r\n                },\r\n                tooltip: {\r\n                    enabled:true,\r\n                    formatter: function() {\r\n                        return this.series.name+\" \"+this.point.name+\"<br/> Cases:<b>\"+this.point.y+\"</b>\"\r\n                    },\r\n                     useHTML:true\r\n                },\r\n            \r\n                series: [\r\n                    {\r\n                       name:\"Month\", \r\n                        data:obj\r\n                   }\r\n                ],\r\n                drilldown: {\r\n                    name:\"Dates\",\r\n                    series: ddrObject\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render()\r\n    {\r\n        return(\r\n            <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <HighchartsReact highcharts={Highcharts} options={this.state.options} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ColumnGraph;"]},"metadata":{},"sourceType":"module"}