{"ast":null,"code":"import _regeneratorRuntime from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import'primeicons/primeicons.css';//components\nimport WorldPieChart from'./components/WorldPieChart';import CoronoMap from'./components/CoronaMap';import CountryData from'./components/tableData';import AffectedCountries from'./components/AffectedCountries';import Rates from'./components/Rates';//Services \nimport Data from'./services/coronadata.service';import coronoService from'./services/corona.service';import DataContext from'./dataContext';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.mybutton=document.getElementById(\"myBtn\");_this.showRegionData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(region){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _this.setState({presentRegion:region,data:[],actualData:{},loading:true});case 3:_context.next=5;return _this.getData();case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={presentRegion:'India',loading:true,is_visible:false};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var scroll=this;document.addEventListener(\"scroll\",function(e){scroll.toggleVisibility();});this.getData();}},{key:\"toggleVisibility\",value:function(){var _toggleVisibility=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(window.pageYOffset>100)){_context2.next=5;break;}_context2.next=3;return this.setState({is_visible:true});case 3:_context2.next=7;break;case 5:_context2.next=7;return this.setState({is_visible:false});case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function toggleVisibility(){return _toggleVisibility.apply(this,arguments);}return toggleVisibility;}()},{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;//clear session storage on change of region or refresh of the GUI\nif(sessionStorage.getItem(\"districtdata\")!=undefined)sessionStorage.clear();_context3.next=4;return Data.getData(this.state.presentRegion);case 4:data=_context3.sent;_context3.t0=this;_context3.next=8;return coronoService.structureData(data,this.state.presentRegion);case 8:_context3.t1=_context3.sent;_context3.t2=data;_context3.t3={data:_context3.t1,actualData:_context3.t2,loading:false};_context3.next=13;return _context3.t0.setState.call(_context3.t0,_context3.t3);case 13:_context3.next=18;break;case 15:_context3.prev=15;_context3.t4=_context3[\"catch\"](0);console.log(_context3.t4);case 18:case\"end\":return _context3.stop();}}},_callee3,this,[[0,15]]);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"scrollToTop\",//SCROLL TO TOP \nvalue:function scrollToTop(){window.scrollTo({top:0,behavior:\"smooth\"});}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,loading=_this$state.loading,presentRegion=_this$state.presentRegion,is_visible=_this$state.is_visible;var pageData,loader;var regionnavigationStyleindia=\"2.6px solid red\";var regionnavigationStyleWorld=\"2.6px solid transparent\";if(this.state.presentRegion===\"World\"){regionnavigationStyleindia=\"2.6px solid transparent\";regionnavigationStyleWorld=\"2.6px solid red\";}pageData=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"h5\",{style:{padding:'10px'}},/*#__PURE__*/React.createElement(\"a\",{href:\"/\",className:\"navbar-brand router-link-exact-active active\",target:\"_self\"},/*#__PURE__*/React.createElement(\"img\",{src:require(\"./viruslogo.png\"),alt:\"Covid\",height:\"30\",width:\"30\",className:\"d-inline-block align-top mr-1\"}),\"COVID-19 \"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",float:\"right\"}},/*#__PURE__*/React.createElement(\"p\",{val:\"india\",onClick:function onClick(){return _this2.showRegionData('India');},style:{height:\"40px\",cursor:\"pointer\",color:presentRegion==='India'?'red':'black',borderBottom:regionnavigationStyleindia,fontWeight:\"500\"}},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-map-marker\"}),\"\\xA0India\"),/*#__PURE__*/React.createElement(\"p\",{val:\"world\",onClick:function onClick(){return _this2.showRegionData('World');},style:{cursor:\"pointer\",marginLeft:'25px',color:presentRegion==='India'?'black':'red',borderBottom:regionnavigationStyleWorld}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-globe\"}),\"\\xA0World\")))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(DataContext.Provider,{value:this.state},/*#__PURE__*/React.createElement(WorldPieChart,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(AffectedCountries,null),/*#__PURE__*/React.createElement(CoronoMap,null),/*#__PURE__*/React.createElement(Rates,null),/*#__PURE__*/React.createElement(CountryData,null)))),/*#__PURE__*/React.createElement(\"div\",null,is_visible&&/*#__PURE__*/React.createElement(\"div\",{className:\"scroll-to-top\",onClick:function onClick(){return _this2.scrollToTop();}},/*#__PURE__*/React.createElement(\"span\",{className:\"fa fa-angle-double-up\"}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"light\",height:\"40px\"}},/*#__PURE__*/React.createElement(\"span\",{style:{textAlign:\"center\",display:\"block\",fontWeight:\"300\"}},\"Source: MOHFW(India) and John Hopkins \")),/*#__PURE__*/React.createElement(\"div\",{className:\"footer\"},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",margin:\"0px auto\",display:\"block\",marginTop:\"12px\"}},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:\"15px\"}},\"Copyright \\xA9 2020, Matcha Avinash\"))));//FOR LOADER \nloader=/*#__PURE__*/React.createElement(\"div\",{className:\"fetching\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"rotate\",src:require(\"./viruslogo.png\"),width:\"70\"})));return/*#__PURE__*/React.createElement(\"div\",{style:{backgroundColor:\"rgb(250,250,250)\"}},loading?loader:pageData);}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/matchajanardhanarao/Documents/coronodashboard/src/App.js"],"names":["React","WorldPieChart","CoronoMap","CountryData","AffectedCountries","Rates","Data","coronoService","DataContext","App","mybutton","document","getElementById","showRegionData","region","setState","presentRegion","data","actualData","loading","getData","console","log","state","is_visible","scroll","addEventListener","e","toggleVisibility","window","pageYOffset","sessionStorage","getItem","undefined","clear","structureData","scrollTo","top","behavior","pageData","loader","regionnavigationStyleindia","regionnavigationStyleWorld","padding","require","display","float","height","cursor","color","borderBottom","fontWeight","marginLeft","scrollToTop","backgroundColor","textAlign","margin","marginTop","fontSize","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\n//components\nimport WorldPieChart from './components/WorldPieChart';\nimport CoronoMap from './components/CoronaMap';\nimport CountryData from './components/tableData';\nimport AffectedCountries from './components/AffectedCountries';\nimport Rates from './components/Rates';\n//Services \nimport Data from './services/coronadata.service';\nimport coronoService from './services/corona.service';\nimport DataContext from './dataContext';\n\nclass App extends React.Component {\n\n  mybutton = document.getElementById(\"myBtn\");\n\n  constructor() {\n    super();\n    this.state = {presentRegion:'India',loading:true,is_visible:false};\n  }\n\n  componentDidMount() {\n    var scroll = this;\n    document.addEventListener(\"scroll\", function(e) {\n      scroll.toggleVisibility();\n    });\n    this.getData();\n  }\n\n  async toggleVisibility() {\n    if (window.pageYOffset >100) {\n      await this.setState({\n        is_visible: true\n      });\n    } else {\n      await this.setState({\n        is_visible: false\n      });\n    }\n  }\n\n  async getData()\n  {\n     try{\n        //clear session storage on change of region or refresh of the GUI\n        if(sessionStorage.getItem(\"districtdata\")!= undefined) sessionStorage.clear();\n        let data = await Data.getData(this.state.presentRegion);\n        await this.setState({data: await coronoService.structureData(data,this.state.presentRegion),actualData:data,loading: false})\n      } \n     catch(err){\n       console.log(err);\n     } \n  }\n\n  showRegionData = async(region) =>{\n     try{\n        await this.setState({\n          presentRegion:region,\n          data:[],\n          actualData:{},\n          loading:true\n        })\n        await this.getData();\n     }\n     catch(err)\n     {\n       console.log(err)\n     }\n  }\n\n  //SCROLL TO TOP \n  scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\"\n    });\n  }\n\n  render() {\n    const {loading,presentRegion,is_visible} = this.state;\n    let pageData,loader;\n\n   \n    let regionnavigationStyleindia = \"2.6px solid red\" ;\n    let regionnavigationStyleWorld = \"2.6px solid transparent\";\n\n    if(this.state.presentRegion === \"World\"){\n      regionnavigationStyleindia =\"2.6px solid transparent\";\n      regionnavigationStyleWorld = \"2.6px solid red\";\n    }\n\n    pageData = <div>\n    <div className=\"header\">\n      <h5 style={{ padding: '10px' }}>\n        <a href=\"/\" className=\"navbar-brand router-link-exact-active active\" target=\"_self\"><img src={require(\"./viruslogo.png\")} alt=\"Covid\" height=\"30\" width=\"30\" className=\"d-inline-block align-top mr-1\" />COVID-19 </a>\n        <div style={{display:\"flex\",float:\"right\"}}>\n          <p val=\"india\"  onClick={()=>this.showRegionData('India')} style={{height:\"40px\",cursor:\"pointer\",color:presentRegion==='India'?'red':'black',borderBottom:regionnavigationStyleindia,fontWeight:\"500\"}}> <i className=\"fa fa-map-marker\"></i>&nbsp;India</p>\n          <p val=\"world\" onClick={()=>this.showRegionData('World')} style={{cursor:\"pointer\",marginLeft:'25px',color:presentRegion==='India'?'black':'red',borderBottom:regionnavigationStyleWorld}}><i className=\"fa fa-globe\"></i>&nbsp;World</p>\n        </div>\n      </h5>\n    </div><br></br><br></br><br></br>\n    <DataContext.Provider value={this.state}>\n        <WorldPieChart />\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <AffectedCountries />\n        <CoronoMap/>\n        <Rates/>\n        <CountryData/>\n      </div>\n    </div>\n    </DataContext.Provider>\n\n    {/* FOR SCROLL TO TOP */}\n    <div>\n     {is_visible && (\n      <div  className=\"scroll-to-top\" onClick={() => this.scrollToTop()}>\n         <span className=\"fa fa-angle-double-up\"></span>\n      </div>\n     )}\n    </div>\n    <br></br><br></br><br></br>\n\n    <div style={{backgroundColor:\"light\",height:\"40px\"}}>\n      <span style={{textAlign:\"center\",display:\"block\",fontWeight:\"300\"}}>Source: MOHFW(India) and John Hopkins </span>\n    </div>\n\n    {/* FOOTER */}\n    <div className=\"footer\">\n      <div style={{textAlign:\"center\",margin:\"0px auto\",display:\"block\",marginTop:\"12px\"}}>\n        <span style={{fontSize:\"15px\"}}>Copyright © 2020, Matcha Avinash</span>\n      </div>\n    </div>\n\n    </div>\n\n    //FOR LOADER \n    loader = \n    <div className = \"fetching\">\n      <span><img className=\"rotate\" src={require(\"./viruslogo.png\")} width=\"70\"></img></span>\n    </div>\n      \n\n    return (\n      <div style={{ backgroundColor: \"rgb(250,250,250)\"}}>\n        {loading?loader:pageData}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}