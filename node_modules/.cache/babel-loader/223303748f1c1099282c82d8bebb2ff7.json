{"ast":null,"code":"var _jsxFileName = \"/Users/matchajanardhanarao/Documents/coronodashboard/src/components/AffectedCountries.js\";\nimport React from 'react';\nimport { ProgressBar } from 'primereact/progressbar';\nconst nf = new Intl.NumberFormat();\n\nclass AffectedCountries extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      data: [],\n      url: props.url\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.refresh) this.getData(props.presentRegion);\n  }\n\n  componentDidMount() {\n    //SHOW THE WORLD DATA \n    this.getData(this.props.presentRegion);\n  }\n\n  async getData(region) {\n    let url = \"\";\n    if (region === 'World') url = \"https://coronavirus-19-api.herokuapp.com/countries\";else url = \"https://www.mohfw.gov.in/data/datanew.json\";\n    await fetch(url).then(response => response.json()).then(data => {\n      this.sortData(data, region);\n    });\n  }\n\n  sortData(data, region) {\n    var totalCases = 0;\n    var obj = [];\n\n    if (region === 'World') {\n      totalCases = data.splice(0, 1);\n      obj = data.splice(0, 5);\n      obj.forEach(element => {\n        element[\"percentage\"] = element.cases / totalCases[0].cases * 100; //element.cases = nf.format(element.cases);\n      });\n    } else {}\n\n    obj.forEach(element => {\n      element[\"percentage\"] = element.cases / totalCases[0].cases * 100; //element.cases = nf.format(element.cases);\n    });\n    this.setState({\n      data: obj\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-3 col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      style: {\n        height: '360px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, \"5 Most Affected Countries\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, this.state.data.map(name => /*#__PURE__*/React.createElement(\"div\", {\n      key: name.country,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        float: 'left'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 24\n      }\n    }, name.country), \"  \", /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        float: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 77\n      }\n    }, name.cases), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 126\n      }\n    }), /*#__PURE__*/React.createElement(ProgressBar, {\n      value: name.percentage,\n      showValue: false,\n      style: {\n        height: '5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 24\n      }\n    }))))));\n  }\n\n}\n\nexport default AffectedCountries;","map":{"version":3,"sources":["/Users/matchajanardhanarao/Documents/coronodashboard/src/components/AffectedCountries.js"],"names":["React","ProgressBar","nf","Intl","NumberFormat","AffectedCountries","Component","constructor","props","state","data","url","componentWillReceiveProps","refresh","getData","presentRegion","componentDidMount","region","fetch","then","response","json","sortData","totalCases","obj","splice","forEach","element","cases","setState","render","height","map","name","country","float","percentage"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {ProgressBar} from 'primereact/progressbar';\r\n\r\nconst nf = new Intl.NumberFormat();\r\n\r\nclass AffectedCountries extends React.Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super();\r\n        this.state={\r\n           data:[],\r\n           url:props.url\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(props)\r\n    {\r\n      if(props.refresh)this.getData(props.presentRegion);\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n       //SHOW THE WORLD DATA \r\n       this.getData(this.props.presentRegion);\r\n       \r\n    }\r\n\r\n    async getData(region)\r\n    {\r\n      let url =\"\";\r\n\r\n      if(region === 'World')\r\n        url = \"https://coronavirus-19-api.herokuapp.com/countries\";\r\n      else\r\n        url = \"https://www.mohfw.gov.in/data/datanew.json\";\r\n\r\n      await fetch(url)\r\n        .then(response => response.json())\r\n        .then(data => {this.sortData(data,region);  \r\n      });\r\n      \r\n    }\r\n\r\n    sortData(data,region)\r\n    {\r\n        var totalCases =0; var obj=[];\r\n        if(region === 'World'){\r\n           totalCases = data.splice(0,1);\r\n           obj=data.splice(0,5);\r\n           obj.forEach(element => {\r\n             element[\"percentage\"] = (element.cases/totalCases[0].cases)*100;\r\n             //element.cases = nf.format(element.cases);\r\n           });\r\n        }\r\n        else{\r\n\r\n\r\n        }\r\n        obj.forEach(element => {\r\n            element[\"percentage\"] = (element.cases/totalCases[0].cases)*100;\r\n            //element.cases = nf.format(element.cases);\r\n        });\r\n\r\n        this.setState({data: obj});\r\n\r\n    }\r\n\r\n    render()\r\n    {\r\n        return(\r\n           <div className=\"col-xl-3 col-md-4\">\r\n              <div className=\"card\" style={{height:'360px'}}>\r\n                <div className=\"card-header\">5 Most Affected Countries</div>\r\n                <div className=\"card-body\">\r\n                  { this.state.data.map(name => ( \r\n                     <div key={name.country}>\r\n                       <span  style={{float:'left'}}>{name.country}</span>  <span style={{float:\"right\"}}>{name.cases}</span><br></br>\r\n                       <ProgressBar value={name.percentage} showValue ={false} style={{height:'5px'}} />\r\n                       <br></br>\r\n                     </div>   ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AffectedCountries;"]},"metadata":{},"sourceType":"module"}