{"ast":null,"code":"import _regeneratorRuntime from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{ProgressBar}from'primereact/progressbar';import DataContext from\"./../dataContext\";var AffectedCountries=/*#__PURE__*/function(_React$Component){_inherits(AffectedCountries,_React$Component);var _super=_createSuper(AffectedCountries);function AffectedCountries(){var _this;_classCallCheck(this,AffectedCountries);_this=_super.call(this);_this.state={data:[]};return _this;}_createClass(AffectedCountries,[{key:\"componentDidMount\",value:function componentDidMount(){this.sortData();}},{key:\"sortData\",value:function(){var _sortData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;//sort mapped data according the cases confirmed\nthis.context.data.affectedcountries.sort(function(a,b){return b.cases-a.cases;});// get the top five affected places according to the confirmed cases\nthis.context.data.affectedcountries=this.context.data.affectedcountries.splice(0,5);_context.next=5;return this.setState({data:this.context.data.affectedcountries});case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function sortData(){return _sortData.apply(this,arguments);}return sortData;}()},{key:\"render\",value:function render(){var name=this.context.presentRegion===\"World\"?\"Countries\":\"States\";return/*#__PURE__*/React.createElement(\"div\",{className:\"col-xl-3 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\",style:{height:'360px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:\"17px\"}},\"5 Most Affected \",name)),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},this.state.data.map(function(data){return/*#__PURE__*/React.createElement(\"div\",{key:data.name},/*#__PURE__*/React.createElement(\"span\",{style:{float:'left'}},data.name),\"  \",/*#__PURE__*/React.createElement(\"span\",{style:{float:\"right\"}},data.cases.toLocaleString()),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(ProgressBar,{value:data.percentage,showValue:false,style:{height:'5px'}}),/*#__PURE__*/React.createElement(\"br\",null));}))));}}]);return AffectedCountries;}(React.Component);AffectedCountries.contextType=DataContext;export default AffectedCountries;","map":{"version":3,"sources":["/Users/matchajanardhanarao/Documents/coronodashboard/src/components/AffectedCountries.js"],"names":["React","ProgressBar","DataContext","AffectedCountries","state","data","sortData","context","affectedcountries","sort","a","b","cases","splice","setState","console","log","name","presentRegion","height","fontSize","map","float","toLocaleString","percentage","Component","contextType"],"mappings":"++BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,wBAA1B,CAEA,MAAOC,CAAAA,WAAP,KAAwB,kBAAxB,C,GAEMC,CAAAA,iB,kIAGF,4BACA,mDACI,wBACA,MAAKC,KAAL,CAAW,CACRC,IAAI,CAAC,EADG,CAAX,CAFJ,aAKC,C,2FAGD,CACE,KAAKC,QAAL,GACD,C,4PAMG;AACA,KAAKC,OAAL,CAAaF,IAAb,CAAkBG,iBAAlB,CAAoCC,IAApC,CAAyC,SAACC,CAAD,CAAGC,CAAH,CAAS,CAAC,MAAOA,CAAAA,CAAC,CAACC,KAAF,CAAQF,CAAC,CAACE,KAAjB,CAAuB,CAA1E,EAEA;AACA,KAAKL,OAAL,CAAaF,IAAb,CAAkBG,iBAAlB,CAAsC,KAAKD,OAAL,CAAaF,IAAb,CAAkBG,iBAAlB,CAAoCK,MAApC,CAA2C,CAA3C,CAA6C,CAA7C,CAAtC,C,sBAEM,MAAKC,QAAL,CAAc,CAACT,IAAI,CAAE,KAAKE,OAAL,CAAaF,IAAb,CAAkBG,iBAAzB,CAAd,C,uFAINO,OAAO,CAACC,GAAR,c,6LAKJ,CACI,GAAMC,CAAAA,IAAI,CAAG,KAAKV,OAAL,CAAaW,aAAb,GAA+B,OAA/B,CAAyC,WAAzC,CAAuD,QAApE,CACA,mBACG,2BAAK,SAAS,CAAC,oBAAf,eACG,2BAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAACC,MAAM,CAAC,OAAR,CAA7B,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,4BAAM,KAAK,CAAE,CAACC,QAAQ,CAAC,MAAV,CAAb,qBAAiDH,IAAjD,CADF,CADF,cAIE,2BAAK,SAAS,CAAC,WAAf,EACI,KAAKb,KAAL,CAAWC,IAAX,CAAgBgB,GAAhB,CAAoB,SAAAhB,IAAI,qBACvB,2BAAK,GAAG,CAAEA,IAAI,CAACY,IAAf,eACE,4BAAO,KAAK,CAAE,CAACK,KAAK,CAAC,MAAP,CAAd,EAA+BjB,IAAI,CAACY,IAApC,CADF,mBACoD,4BAAM,KAAK,CAAE,CAACK,KAAK,CAAC,OAAP,CAAb,EAA+BjB,IAAI,CAACO,KAAL,CAAWW,cAAX,EAA/B,CADpD,cACsH,8BADtH,cAEE,oBAAC,WAAD,EAAa,KAAK,CAAElB,IAAI,CAACmB,UAAzB,CAAqC,SAAS,CAAG,KAAjD,CAAwD,KAAK,CAAE,CAACL,MAAM,CAAC,KAAR,CAA/D,EAFF,cAGE,8BAHF,CADuB,EAAxB,CADJ,CAJF,CADH,CADH,CAiBH,C,+BAtD2BnB,KAAK,CAACyB,S,EAAhCtB,iB,CAEKuB,W,CAAYxB,W,CAuDvB,cAAeC,CAAAA,iBAAf","sourcesContent":["import React from 'react';\r\nimport {ProgressBar} from 'primereact/progressbar';\r\n\r\nimport DataContext from \"./../dataContext\";\r\n\r\nclass AffectedCountries extends React.Component\r\n{\r\n    static contextType=DataContext;\r\n    constructor()\r\n    {\r\n        super();\r\n        this.state={\r\n           data:[],\r\n        }\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n      this.sortData();       \r\n    }\r\n\r\n    async sortData()\r\n    {\r\n      try{\r\n\r\n        //sort mapped data according the cases confirmed\r\n        this.context.data.affectedcountries.sort((a,b) => {return b.cases-a.cases})\r\n\r\n        // get the top five affected places according to the confirmed cases\r\n        this.context.data.affectedcountries = this.context.data.affectedcountries.splice(0,5);\r\n    \r\n        await this.setState({data: this.context.data.affectedcountries});\r\n      }\r\n      catch(err)\r\n      {\r\n        console.log(err);\r\n      } \r\n    }\r\n\r\n    render()\r\n    {\r\n        const name = this.context.presentRegion === \"World\" ? \"Countries\" : \"States\";\r\n        return(\r\n           <div className=\"col-xl-3 col-md-12\">\r\n              <div className=\"card\" style={{height:'360px'}}>\r\n                <div className=\"card-header\">\r\n                  <span style={{fontSize:\"17px\"}}>5 Most Affected {name}</span>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  { this.state.data.map(data => ( \r\n                     <div key={data.name}>\r\n                       <span  style={{float:'left'}}>{data.name}</span>  <span style={{float:\"right\"}}>{data.cases.toLocaleString()}</span><br></br>\r\n                       <ProgressBar value={data.percentage} showValue ={false} style={{height:'5px'}} />\r\n                       <br></br>\r\n                     </div>   ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AffectedCountries;"]},"metadata":{},"sourceType":"module"}