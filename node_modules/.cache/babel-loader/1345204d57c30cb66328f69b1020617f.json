{"ast":null,"code":"import _defineProperty from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/matchajanardhanarao/Documents/coronodashboard/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'primereact/resources/themes/nova-light/theme.css';import'primereact/resources/primereact.min.css';import{DataTable}from'primereact/datatable';import{Column}from'primereact/column';import{InputText}from'primereact/inputtext';import'primeicons/primeicons.css';import DataContext from'./../dataContext';//service to get districts data\nimport DistrictData from'../services/coronadata.service';var tableData=/*#__PURE__*/function(_React$Component){_inherits(tableData,_React$Component);var _super=_createSuper(tableData);function tableData(){var _this;_classCallCheck(this,tableData);_this=_super.call(this);_this.getDistrictData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var obj,districtdata,element;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(_this.context.presentRegion===\"World\")){_context.next=3;break;}return _context.abrupt(\"return\");case 3://for in case of India \nobj=[];if(!(sessionStorage.getItem(\"districtdata\")!=undefined)){_context.next=8;break;}_context.t0=JSON.parse(sessionStorage.getItem(\"districtdata\"));_context.next=11;break;case 8:_context.next=10;return DistrictData.getDistrictWiseData();case 10:_context.t0=_context.sent;case 11:districtdata=_context.t0;Object.keys(districtdata[data].districtData).forEach(function(x){obj.push({name:x,active:districtdata[data].districtData[x].active,deaths:districtdata[data].districtData[x].deceased,recovered:districtdata[data].districtData[x].recovered,cases:districtdata[data].districtData[x].confirmed});});_context.next=15;return _this.setState({districtData:obj,flag:true,tempdistrictObj:obj,presentState:data+\" - District Wise Status\"});case 15:if(sessionStorage.getItem(\"districtdata\")==undefined)sessionStorage.setItem(\"districtdata\",JSON.stringify(districtdata));// scroll to the specified district table\nelement=document.querySelector(\"#district\");element.scrollIntoView();_context.next=23;break;case 20:_context.prev=20;_context.t1=_context[\"catch\"](0);console.log(_context.t1);case 23:case\"end\":return _context.stop();}}},_callee,null,[[0,20]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.getFilteredData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name,searchIn){var obj;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:obj=[];_context2.prev=1;if(!(searchIn!=='district')){_context2.next=9;break;}_this.state.tempObj.forEach(function(x){if(x.name.toLowerCase().includes(name.toLowerCase()))obj.push(x);});_context2.next=6;return _this.setState({data:obj});case 6:return _context2.abrupt(\"return\");case 9:_this.state.tempdistrictObj.forEach(function(x){if(x.name.toLowerCase().includes(name.toLowerCase()))obj.push(x);});_context2.next=12;return _this.setState({districtData:obj});case 12:_context2.next=17;break;case 14:_context2.prev=14;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 17:case\"end\":return _context2.stop();}}},_callee2,null,[[1,14]]);}));return function(_x2,_x3){return _ref2.apply(this,arguments);};}();_this.state={data:[],districtData:[]};return _this;}_createClass(tableData,[{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}},{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return this.setState({data:this.context.data.tableData,tempObj:this.context.data.tableData});case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 8:case\"end\":return _context3.stop();}}},_callee3,this,[[0,5]]);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"render\",value:function render(){var _this2=this;var name=this.context.presentRegion===\"World\"?\"Country\":\"State\";var districtTable;var header=/*#__PURE__*/React.createElement(\"div\",{className:\"headerdiv\"},/*#__PURE__*/React.createElement(\"span\",{className:\"headertext\"},name,\" Wise Status\"),/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"col-sm-12 col-xl-3\"},\"className\",\"p-datatable-globalfilter-container\"),/*#__PURE__*/React.createElement(\"span\",{className:\"p-input-icon-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\",style:{fontSize:\"1rem\",position:\"absolute\",display:\"inline-block\",top:\"20px\",marginLeft:\"0.5%\"}}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",style:{paddingLeft:\"1.8rem\"},onChange:function onChange(e){return _this2.getFilteredData(e.target.value,\"\");},placeholder:\"Search By Place Name\"}))));var districttableheader=/*#__PURE__*/React.createElement(\"div\",{className:\"headerdiv\"},/*#__PURE__*/React.createElement(\"span\",{className:\"headertext\"},this.state.presentState),/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"col-sm-12 col-xl-3\"},\"className\",\"p-datatable-globalfilter-container\"),/*#__PURE__*/React.createElement(\"span\",{className:\"p-input-icon-left\"},/*#__PURE__*/React.createElement(\"i\",{className:\"pi pi-search\",style:{fontSize:\"1rem\",position:\"absolute\",display:\"inline-block\",top:\"20px\",marginLeft:\"0.5%\"}}),/*#__PURE__*/React.createElement(InputText,{type:\"search\",style:{paddingLeft:\"1.8rem\"},onChange:function onChange(e){return _this2.getFilteredData(e.target.value,\"district\");},placeholder:\"Search By Place Name\"}))));if(this.context.presentRegion==='India'&&this.state.flag){districtTable=/*#__PURE__*/React.createElement(\"div\",{className:\"datatable\",id:\"districttable\"},/*#__PURE__*/React.createElement(DataTable,{id:\"district\",className:\"p-datatable-places\",emptyMessage:\"No records found\",responsive:true,style:{border:'none'},header:districttableheader,value:this.state.districtData,paginator:true,rows:10},/*#__PURE__*/React.createElement(Column,{field:\"name\",body:this.dateTemplate=function(rowData){return/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"bold\"}},rowData.name);},header:\"District\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"cases\",header:\"Confirmed\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"active\",header:\"Active\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"recovered\",header:\"Recovered\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"deaths\",header:\"Deaths\",sortable:true})));}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 datatable\"},/*#__PURE__*/React.createElement(DataTable,{onRowClick:function onRowClick(event){return _this2.getDistrictData(event.data.name);},className:\"p-datatable-places\",rowHover:true,emptyMessage:\"No records found\",header:header,value:this.state.data,responsive:true,paginator:true,rows:10},/*#__PURE__*/React.createElement(Column,{field:\"name\",header:name,sortable:true,body:function body(rowData){var textdecoration=\"underline\";if(name==='Country')textdecoration=\"none\";return/*#__PURE__*/React.createElement(\"span\",{title:\"Click to get District Wise Data\",style:{fontWeight:\"550\",textDecoration:textdecoration,color:\"#337ab7\"}},rowData.name);}}),/*#__PURE__*/React.createElement(Column,{field:\"cases\",body:function body(rowData){var changes;if(rowData.changeinConfirmed!==0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#ef3c3c\"}},rowData.changeinConfirmed);return/*#__PURE__*/React.createElement(\"span\",null,rowData.cases,\" \\xA0\\xA0\\xA0\",changes);},header:\"Confirmed\",sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"active\",header:\"Active\",body:function body(rowData){var changes;if(rowData.changeinActive!==0){if(rowData.changeinActive>0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#ef3c3c\"}},rowData.changeinActive);else changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-down\",style:{fontWeight:'500',color:\"#009933\"}},-rowData.changeinActive);}return/*#__PURE__*/React.createElement(\"span\",null,rowData.active,\"\\xA0\\xA0\\xA0\",changes);},sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"recovered\",header:\"Recovered\",body:function body(rowData){var changes;if(rowData.changeinRecovered!==0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#009933\"}},rowData.changeinRecovered);return/*#__PURE__*/React.createElement(\"span\",null,rowData.recovered,\"\\xA0\\xA0\\xA0\",changes);},sortable:true}),/*#__PURE__*/React.createElement(Column,{field:\"deaths\",body:function body(rowData){var changes;if(rowData.changeinDeaths!==0)changes=/*#__PURE__*/React.createElement(\"span\",{title:\"Change since yesterday\",className:\"fa fa-arrow-up\",style:{fontWeight:'500',color:\"#ef3c3c\"}},rowData.changeinDeaths);return/*#__PURE__*/React.createElement(\"span\",null,rowData.deaths,\"\\xA0\\xA0\\xA0\",changes);},header:\"Deaths\",sortable:true})),/*#__PURE__*/React.createElement(\"br\",null),districtTable);}}]);return tableData;}(React.Component);tableData.contextType=DataContext;export default tableData;","map":{"version":3,"sources":["/Users/matchajanardhanarao/Documents/coronodashboard/src/components/tableData.js"],"names":["React","DataTable","Column","InputText","DataContext","DistrictData","tableData","getDistrictData","data","context","presentRegion","obj","sessionStorage","getItem","undefined","JSON","parse","getDistrictWiseData","districtdata","Object","keys","districtData","forEach","x","push","name","active","deaths","deceased","recovered","cases","confirmed","setState","flag","tempdistrictObj","presentState","setItem","stringify","element","document","querySelector","scrollIntoView","console","log","getFilteredData","searchIn","state","tempObj","toLowerCase","includes","getData","districtTable","header","fontSize","position","display","top","marginLeft","paddingLeft","e","target","value","districttableheader","border","dateTemplate","rowData","fontWeight","event","textdecoration","textDecoration","color","changes","changeinConfirmed","changeinActive","changeinRecovered","changeinDeaths","Component","contextType"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport {DataTable} from 'primereact/datatable';\r\nimport {Column} from 'primereact/column';\r\nimport {InputText} from 'primereact/inputtext';\r\nimport 'primeicons/primeicons.css';\r\n\r\nimport DataContext from './../dataContext';\r\n\r\n//service to get districts data\r\nimport DistrictData from '../services/coronadata.service';\r\n\r\n\r\nclass tableData extends React.Component\r\n{\r\n  static contextType = DataContext;\r\n\r\n    constructor()\r\n    {\r\n      super();\r\n      this.state={data:[],districtData:[]};\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n      this.getData();\r\n    }\r\n\r\n    async getData(){\r\n      try{\r\n        //filter and structure data\r\n        await this.setState({data:this.context.data.tableData,tempObj:this.context.data.tableData});\r\n      }\r\n      catch(err){\r\n        console.log(err);\r\n      }\r\n    }\r\n\r\n    getDistrictData = async(data) => {\r\n\r\n      try{\r\n\r\n        if(this.context.presentRegion === \"World\") return;    \r\n        //for in case of India \r\n        let obj =[];\r\n        let districtdata = sessionStorage.getItem(\"districtdata\")!= undefined?JSON.parse(sessionStorage.getItem(\"districtdata\")):await DistrictData.getDistrictWiseData();\r\n\r\n        Object.keys(districtdata[data].districtData).forEach(x=>{    \r\n        obj.push({name:x,active:districtdata[data].districtData[x].active,deaths:districtdata[data].districtData[x].deceased,recovered:districtdata[data].districtData[x].recovered,cases:districtdata[data].districtData[x].confirmed})    \r\n        })\r\n\r\n        await this.setState({districtData:obj,flag:true,tempdistrictObj:obj,presentState:data+\" - District Wise Status\"})\r\n\r\n        if(sessionStorage.getItem(\"districtdata\") == undefined)  \r\n            sessionStorage.setItem(\"districtdata\",JSON.stringify(districtdata));\r\n\r\n        // scroll to the specified district table\r\n        var element = document.querySelector(\"#district\");\r\n        element.scrollIntoView();\r\n      }\r\n      catch(err){\r\n          console.log(err);\r\n      }\r\n    }\r\n\r\n    //GLOBAL SEARCH FUNCTIONALITY\r\n    getFilteredData=async(name,searchIn)=>{\r\n            let obj =[];\r\n            try{\r\n            if(searchIn !== 'district'){\r\n                this.state.tempObj.forEach(x=>{\r\n                    if(x.name.toLowerCase().includes(name.toLowerCase())) obj.push(x)\r\n                })\r\n                await this.setState({data:obj})\r\n                return;\r\n            }\r\n            else{\r\n                this.state.tempdistrictObj.forEach(x=>{\r\n                    if(x.name.toLowerCase().includes(name.toLowerCase())) obj.push(x)\r\n                })\r\n                await this.setState({districtData:obj})\r\n            }\r\n            }\r\n            catch(err){console.log(err);}\r\n    }\r\n\r\n    render(){\r\n      \r\n        const name = this.context.presentRegion === \"World\"?\"Country\":\"State\";\r\n        let districtTable;\r\n            \r\n        const header = <div className=\"headerdiv\">\r\n         <span className=\"headertext\">{name} Wise Status</span>\r\n         <div  className=\"col-sm-12 col-xl-3\" className=\"p-datatable-globalfilter-container\">\r\n           <span className=\"p-input-icon-left\"><i className=\"pi pi-search\" style={{fontSize:\"1rem\",position:\"absolute\",display:\"inline-block\",top:\"20px\",marginLeft:\"0.5%\"}}></i>\r\n             <InputText type=\"search\" style={{paddingLeft:\"1.8rem\"}} onChange={(e)=>this.getFilteredData(e.target.value,\"\")} placeholder=\"Search By Place Name\" />\r\n           </span>\r\n         </div>\r\n        </div>\r\n\r\n        const districttableheader = <div className=\"headerdiv\">\r\n        <span className=\"headertext\">{this.state.presentState}</span>\r\n        <div  className=\"col-sm-12 col-xl-3\"  className=\"p-datatable-globalfilter-container\">\r\n            <span className=\"p-input-icon-left\"><i className=\"pi pi-search\" style={{fontSize:\"1rem\",position:\"absolute\",display:\"inline-block\",top:\"20px\",marginLeft:\"0.5%\"}}></i>\r\n               <InputText type=\"search\" style={{paddingLeft:\"1.8rem\"}} onChange={(e)=>this.getFilteredData(e.target.value,\"district\")} placeholder=\"Search By Place Name\" />\r\n            </span>\r\n        </div>\r\n        </div>\r\n        \r\n        \r\n        if(this.context.presentRegion === 'India' && this.state.flag){\r\n         districtTable = \r\n         <div className=\"datatable\" id=\"districttable\">\r\n         <DataTable id=\"district\" className=\"p-datatable-places\" emptyMessage=\"No records found\" responsive={true} style={{border:'none'}} header={districttableheader} value={this.state.districtData}  paginator rows={10}>\r\n         <Column field=\"name\"  body={this.dateTemplate=(rowData)=>{return <span style={{fontWeight:\"bold\"}}>{rowData.name}</span>}} header=\"District\" sortable={true} />\r\n         <Column field=\"cases\"  header=\"Confirmed\" sortable={true}  />\r\n         <Column field=\"active\" header=\"Active\" sortable={true}  />\r\n         <Column field=\"recovered\" header=\"Recovered\" sortable={true} />\r\n         <Column field=\"deaths\" header=\"Deaths\" sortable={true}/>\r\n         </DataTable>\r\n         </div>\r\n        }\r\n        \r\n        return(\r\n            <div className=\"col-sm-12 datatable\">\r\n              <DataTable onRowClick ={(event)=>this.getDistrictData(event.data.name)} className=\"p-datatable-places\" rowHover emptyMessage=\"No records found\" header={header} value={this.state.data} responsive={true} paginator={true} rows={10}>\r\n                 <Column field=\"name\" header={name} sortable={true} body={(rowData)=>{\r\n                     let textdecoration=\"underline\"; \r\n                     if(name === 'Country') textdecoration=\"none\";\r\n                     return <span title=\"Click to get District Wise Data\" style={{fontWeight:\"550\",textDecoration:textdecoration,color:\"#337ab7\"}}>{rowData.name}</span>}} />     \r\n                 <Column field=\"cases\" body={(rowData)=>{\r\n                      let changes;\r\n                      if(rowData.changeinConfirmed !== 0) changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#ef3c3c\"}}>{rowData.changeinConfirmed}</span>\r\n                      return <span>{rowData.cases} &nbsp;&nbsp;&nbsp;{changes}</span>}} header=\"Confirmed\" sortable={true}  />\r\n                 <Column field=\"active\" header=\"Active\" body ={(rowData) => {\r\n                     let changes;\r\n                     if(rowData.changeinActive !== 0) {\r\n                         if(rowData.changeinActive >0)\r\n                           changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#ef3c3c\"}}>{rowData.changeinActive}</span> \r\n                         else\r\n                           changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-down\" style={{fontWeight:'500',color:\"#009933\"}}>{-rowData.changeinActive}</span>\r\n                     }\r\n                     return <span>{rowData.active}&nbsp;&nbsp;&nbsp;{changes}</span>}} sortable={true}  />\r\n                 <Column field=\"recovered\" header=\"Recovered\"  body ={(rowData)=>{\r\n                     let changes;\r\n                     if(rowData.changeinRecovered !== 0) changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#009933\"}}>{rowData.changeinRecovered}</span> \r\n                     return <span>{rowData.recovered}&nbsp;&nbsp;&nbsp;{changes}</span>}} sortable={true}  />\r\n                 <Column field=\"deaths\" body ={(rowData)=>{\r\n                     let changes;\r\n                     if(rowData.changeinDeaths !== 0)  changes = <span title=\"Change since yesterday\" className=\"fa fa-arrow-up\" style={{fontWeight:'500',color:\"#ef3c3c\"}}>{rowData.changeinDeaths}</span>\r\n                 return <span>{rowData.deaths}&nbsp;&nbsp;&nbsp;{changes}</span>}} header=\"Deaths\" sortable={true}  />\r\n                 \r\n              </DataTable>\r\n              <br></br>\r\n              {districtTable}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default tableData;"]},"metadata":{},"sourceType":"module"}